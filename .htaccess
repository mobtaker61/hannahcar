RewriteEngine On

# Redirect all requests to the public folder
RewriteCond %{REQUEST_URI} !^/public/
RewriteRule ^(.*)$ public/$1 [L]

# Prevent access to sensitive files
<Files ".env">
    Order allow,deny
    Deny from all
</Files>

<Files "composer.json">
    Order allow,deny
    Deny from all
</Files>

<Files "composer.lock">
    Order allow,deny
    Deny from all
</Files>

# Prevent access to vendor directory
RewriteRule ^vendor/.*$ - [F,L]

# Prevent access to storage directory
RewriteRule ^storage/.*$ - [F,L]

# Prevent access to bootstrap directory
RewriteRule ^bootstrap/.*$ - [F,L]

# Prevent access to config directory
RewriteRule ^config/.*$ - [F,L]

# Prevent access to database directory
RewriteRule ^database/.*$ - [F,L]

# Prevent access to resources directory
RewriteRule ^resources/.*$ - [F,L]

# Prevent access to routes directory
RewriteRule ^routes/.*$ - [F,L]

# Prevent access to tests directory
RewriteRule ^tests/.*$ - [F,L]

# Prevent access to app directory
RewriteRule ^app/.*$ - [F,L]

# Prevent access to lang directory
RewriteRule ^lang/.*$ - [F,L]

# Prevent access to node_modules directory
RewriteRule ^node_modules/.*$ - [F,L]

# Prevent access to .git directory
RewriteRule ^\.git/.*$ - [F,L]

# Prevent access to .gitignore file
RewriteRule ^\.gitignore$ - [F,L]

# Prevent access to .gitattributes file
RewriteRule ^\.gitattributes$ - [F,L]

# Prevent access to .editorconfig file
RewriteRule ^\.editorconfig$ - [F,L]

# Prevent access to .DS_Store files
RewriteRule ^\.DS_Store$ - [F,L]

# Prevent access to package.json and package-lock.json
RewriteRule ^package\.json$ - [F,L]
RewriteRule ^package-lock\.json$ - [F,L]

# Prevent access to phpunit.xml
RewriteRule ^phpunit\.xml$ - [F,L]

# Prevent access to tailwind.config.js
RewriteRule ^tailwind\.config\.js$ - [F,L]

# Prevent access to vite.config.js
RewriteRule ^vite\.config\.js$ - [F,L]

# Prevent access to postcss.config.js
RewriteRule ^postcss\.config\.js$ - [F,L]

# Prevent access to artisan file
RewriteRule ^artisan$ - [F,L]

# Prevent access to README.md
RewriteRule ^README\.md$ - [F,L] 